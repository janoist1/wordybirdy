(this.webpackJsonpwordybirdy=this.webpackJsonpwordybirdy||[]).push([[0],{109:function(e,t,n){},110:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(37),o=n.n(c),u=(n(51),n(2)),i=n(38),s=n(1),l=n.n(s),f=n(3),p=n(9),m=n(40),b=n.n(m),d=function(e){return new Promise((function(t,n){var r=new FileReader;r.readAsText(e,"UTF-8"),r.onload=function(e){var n=e.target;return t(n.result)},r.onerror=n}))},O=n(4),v=n(41),h=n(42),g=n.n(h);function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var w=new v.a("words"),y=function(){return w.allDocs({include_docs:!0,descending:!0}).then((function(e){return e.rows})).then((function(e){return e.map((function(e){return e.doc}))}))},E=function(e){return w.get(e)},x=function(e){return w.put(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(n,!0).forEach((function(t){Object(O.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({_id:g.a.generate(),progress:{en:0,hu:0}},e))},k=function(e){return w.put(e)},P=function(e){var t=e._id,n=e._rev;return w.remove(t,n)},S=function(){var e=Object(f.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.allDocs({});case 2:return t=e.sent,n=t.rows,e.abrupt("return",Promise.all(n.map((function(e){return w.remove(e.id,e.value.rev)}))));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),C=n(11),D=function(e){for(var t=e.length-1;t>0;t--){var n=Math.floor(Math.random()*(t+1)),r=[e[n],e[t]];e[t]=r[0],e[n]=r[1]}},N=n(14),_=n.n(N),A=function(e,t){return fetch("".concat("https://twinword-word-graph-dictionary.p.rapidapi.com","/").concat(t,"/?entry=").concat(e),{method:"GET",headers:{"x-rapidapi-host":"twinword-word-graph-dictionary.p.rapidapi.com","x-rapidapi-key":"0e8aa254b7msh158b791c303788fp13a822jsn0c9b884e6326"}}).then((function(e){return e.json()}))};function F(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var L=a.a.createContext({});L.displayName="AppContext";var G=L,T=function(e){return function(t){return a.a.createElement(L.Consumer,null,(function(n){return a.a.createElement(e,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?F(n,!0).forEach((function(t){Object(O.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t,{appContext:n}))}))}};function M(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?M(n,!0).forEach((function(t){Object(O.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}_()("dictionary")||_()("dictionary",{});var U=function(){var e=Object(f.a)(l.a.mark((function e(t){var n,r,a,c,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.en,r=_()("dictionary"),(a=r[n])&&200===+a.result_code){e.next=16;break}return e.prev=3,c=["association","example"].map((function(e){return A(n,e)})),e.next=8,Promise.all(c);case 8:o=e.sent,a=o.reduce((function(e,t){return I({},e,{},t)})),_()("dictionary",I({},_()("dictionary"),Object(O.a)({},n,a))),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(3),console.log("Error loading dictionary:",e.t0);case 16:return e.abrupt("return",a);case 17:case"end":return e.stop()}}),e,null,[[3,13]])})));return function(t){return e.apply(this,arguments)}}(),R=T((function(e){var t=e.word,n=e.appContext,c=Object(r.useState)(),o=Object(u.a)(c,2),i=o[0],s=o[1];return Object(r.useEffect)((function(){var e=!0;return n.setLoading(!0),U(t).then((function(t){n.setLoading(!1),e&&s(t)})),function(){e=!1}}),[t]),i?a.a.createElement("div",{className:"dictionary"},a.a.createElement("h6",null,"Associations:"),a.a.createElement("ul",null,i.assoc_word_ex&&i.assoc_word_ex.map((function(e,t){return a.a.createElement("li",{key:t},e)}))),a.a.createElement("h6",null,"Examples:"),a.a.createElement("ul",null,i.example&&i.example.map((function(e,t){return a.a.createElement("li",{key:t},e)})))):null}));function W(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function X(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?W(n,!0).forEach((function(t){Object(O.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var B=function(e){return e.map((function(e){return e._id}))},J=function(e){var t=e.lang,n=e.length,c=Object(r.useState)(),o=Object(u.a)(c,2),i=o[0],s=o[1],p=Object(r.useState)([]),m=Object(u.a)(p,2),b=m[0],d=m[1],v=Object(r.useState)(0),h=Object(u.a)(v,2),g=h[0],j=h[1],w=Object(r.useState)(0),E=Object(u.a)(w,2),x=E[0],k=E[1],P=Object(r.useState)(!1),S=Object(u.a)(P,2),N=S[0],_=S[1],A=function(){var e=Object(f.a)(l.a.mark((function e(n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s(Object(C.a)(i.map((function(e){return e._id===n?X({},e,{progress:X({},e.progress,Object(O.a)({},t,e.progress[t]+1))}):e}))));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),F=function(){_(!1)},L=function(){var e=Object(f.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:_(!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();if(Object(r.useEffect)((function(){Object(f.a)(l.a.mark((function e(){var t,r,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y();case 2:t=e.sent,D(t),r=t.slice(0,n),a=B(r),d(a),s(r);case 8:case"end":return e.stop()}}),e)})))()}),[]),!i)return null;if(!b.length)return a.a.createElement("div",{className:"main"},"Challenge over!");var G=i.find((function(e){return e._id===b[g]}));return a.a.createElement("div",{className:"main"},a.a.createElement("div",{className:"status"},"miss: ",x,", words left: ",b.length),a.a.createElement("div",{className:"words"},a.a.createElement("span",null,G.hu),N&&a.a.createElement(a.a.Fragment,null,"-",a.a.createElement("a",{target:"_blank",href:"https://translate.google.com/?source=osdd#auto|auto|".concat(G.en)},G.en))),a.a.createElement("div",{className:"buttons"},a.a.createElement("button",{onClick:function(){var e=b[g];j(b.length>=g?0:g),d(b.filter((function(t){return t!==e}))),F(),A(e)}},"i know"),N&&a.a.createElement("button",{onClick:function(){k(x+1),j(g+1<b.length?g+1:0),F()}},"i don't know"),!N&&a.a.createElement("button",{onClick:L},"show")),N&&a.a.createElement(R,{word:G}))},Y=n(43),K=n(17),Z=n(44),$=new K.GiphyFetch("sXpGFDGZs0Dv1mmNFvYaGUvYwKX0PWIh"),q=T((function(e){var t=e.word,n=e.appContext,c=Object(r.useState)(),o=Object(u.a)(c,2),i=o[0],s=o[1],p=Object(r.useState)(),m=Object(u.a)(p,2),b=m[0],d=m[1],O=Object(r.useState)(!1),v=Object(u.a)(O,2),h=v[0],g=v[1],j=function(e){var n=e.offset,r=void 0===n?0:n,a=e.limit,c=void 0===a?10:a;return $.search(t.en,{offset:r,limit:c}).then((function(e){return e.data}))},w=function(){var e=Object(f.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g(!0),n.setLoading(!0),e.t0=d,e.next=5,j({});case 5:e.t1=e.sent,(0,e.t0)(e.t1),n.setLoading(!1);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(Y.useAsync)(Object(f.a)(l.a.mark((function e(){var r,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.setLoading(!0),!(a=t.giphyId)){e.next=8;break}return e.next=5,$.gif(a);case 5:r=e.sent.data,e.next=11;break;case 8:return e.next=10,j({limit:1});case 10:r=e.sent[0];case 11:n.setLoading(!1),s(r);case 13:case"end":return e.stop()}}),e)}))),[]),a.a.createElement("div",{className:"giphy"},i&&a.a.createElement(Z.Gif,{gif:i,width:320}),h?a.a.createElement("div",{className:"carousel"},b&&b.map((function(e){var t=e.id,n=e.images;return a.a.createElement("img",{key:t,src:n.fixed_height.webp,onClick:function(){return e=t,void console.log("gif clicked",e);var e}})}))):a.a.createElement("button",{onClick:w},"change"))})),z=function(e){var t=e.lang,n=Object(r.useState)(),c=Object(u.a)(n,2),o=c[0],i=c[1],s=Object(r.useState)(),p=Object(u.a)(s,2),m=p[0],b=p[1],d=Object(r.useState)([]),O=Object(u.a)(d,2),v=O[0],h=O[1],g=Object(r.useState)(0),j=Object(u.a)(g,2),w=j[0],x=j[1],P=Object(r.useState)(!1),S=Object(u.a)(P,2),N=S[0],_=S[1],A=Object(r.useState)(!1),F=Object(u.a)(A,2),L=F[0],G=F[1],T=Object(r.useState)(!1),M=Object(u.a)(T,2),I=M[0],U=M[1],W=function(){var e=Object(f.a)(l.a.mark((function e(n){var r,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E(n);case 2:return(r=e.sent).progress[t]++,e.next=6,k(r);case 6:return e.next=8,y();case 8:a=e.sent,i(a);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),X=function(){_(!1),G(!1),U(!1)};if(Object(r.useEffect)((function(){Object(f.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=i,e.next=3,y();case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)})))()}),[]),Object(r.useEffect)((function(){o&&b(function(e){var t=e.words,n=e.lang;return t.reduce((function(e,t){var r=t.progress[n];return Math.min(e,r)}),Number.MAX_SAFE_INTEGER)}({lang:t,words:o}))}),[o]),Object(r.useEffect)((function(){if(o&&!(v.length>0)){var e=function(e){var t=e.map((function(e){return e._id}));return D(t),t}(o.filter((function(e){return e.progress[t]<=m})));h(e)}}),[m]),!v.length)return null;var B=o.find((function(e){return e._id===v[w]}));return a.a.createElement("div",{className:"main"},a.a.createElement("div",{className:"status"},"level: ",m+1,", words left: ",v.length),a.a.createElement("div",{className:"words"},a.a.createElement("span",null,B.hu),N&&a.a.createElement(a.a.Fragment,null,"-",a.a.createElement("a",{target:"_blank",href:"https://translate.google.com/?source=osdd#auto|auto|".concat(B.en)},B.en))),a.a.createElement("div",{className:"buttons"},a.a.createElement("button",{onClick:function(){var e=v[w];x(v.length>=w?0:w),h(v.filter((function(t){return t!==e}))),X(),W(e)}},"i know"),N&&a.a.createElement("button",{onClick:function(){var e=v[w];x(w+1<v.length?w+1:0),h([].concat(Object(C.a)(v.filter((function(t){return t!==e}))),[e])),X()}},"i don't know"),!N&&a.a.createElement("button",{onClick:function(){_(!0)}},"show")),a.a.createElement("div",{className:"buttons"},a.a.createElement("button",{onClick:function(){U(!0)}},"show giphy"),a.a.createElement("button",{onClick:function(){G(!0)}},"show dictionary")),I&&a.a.createElement(q,{word:B}),L&&a.a.createElement(R,{word:B}))},H=n(45);function Q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function V(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Q(n,!0).forEach((function(t){Object(O.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Q(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ee=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=null;return function(){var a=this,c=arguments,o=n&&!r,u=function(){return e.apply(a,c)};return clearTimeout(r),o?Promise.resolve(u()):new Promise((function(e,n){r&&n(),r=setTimeout((function(){r=null,e(u())}),t)}))}}(function(){var e=Object(f.a)(l.a.mark((function e(t){var n,r,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.id,r=Object(H.a)(t,["id"]),e.next=3,E(n);case 3:return a=e.sent,e.next=6,k(V({},a,{},r));case 6:return e.abrupt("return",y());case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),1e3),te=function(){var e=Object(f.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y();case 2:return e.t0=function(e,t){return e.en>t.en?1:-1},e.abrupt("return",e.sent.sort(e.t0));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ne={en:"",hu:""},re=function(e){var t=e.filter,n=void 0===t?"":t,c=Object(r.useState)(),o=Object(u.a)(c,2),i=o[0],s=o[1],p=Object(r.useState)(ne),m=Object(u.a)(p,2),b=m[0],d=m[1],v=Object(r.useState)(n),h=Object(u.a)(v,2),g=h[0],j=h[1],w=function(){var e=Object(f.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x(b);case 2:if(t=e.sent,n=t.id,b.en&&b.hu){e.next=6;break}return e.abrupt("return");case 6:return e.t0=s,e.next=9,E(n);case 9:e.t1=e.sent,e.t2=Object(C.a)(i),e.t3=[e.t1].concat(e.t2),(0,e.t0)(e.t3),d(ne);case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),y=function(e){return function(t){var n=t.target;d(V({},b,Object(O.a)({},e,n.value)))}},k=function(e){var t=e.id,n=e.lang;return function(){var e=Object(f.a)(l.a.mark((function e(r){var a,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.target,s(Object(C.a)(i.map((function(e){return e._id===t?V({},e,Object(O.a)({},n,a.value)):e})))),e.prev=2,e.next=5,ee(Object(O.a)({id:t},n,a.value));case 5:c=e.sent,s(c),e.next=11;break;case 9:e.prev=9,e.t0=e.catch(2);case 11:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}()},S=function(e){var t=e.id;return Object(f.a)(l.a.mark((function e(){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E(t);case 2:return n=e.sent,e.next=5,P(n);case 5:return e.t0=s,e.next=8,te();case 8:e.t1=e.sent,(0,e.t0)(e.t1);case 10:case"end":return e.stop()}}),e)})))};return Object(r.useEffect)((function(){Object(f.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=s,e.next=3,te();case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)})))()}),[]),a.a.createElement("div",{className:"word-list"},a.a.createElement("input",{type:"text",value:g,onChange:function(e){var t=e.target;j(t.value)}}),a.a.createElement("ol",null,a.a.createElement("li",null,a.a.createElement("input",{type:"text",value:b.en,onChange:y("en")}),a.a.createElement("input",{type:"text",value:b.hu,onChange:y("hu")}),a.a.createElement("button",{onClick:w},"add")),i&&i.filter((function(e){var t=e.en,n=e.hu;return t.indexOf(g)>-1||n.indexOf(g)>-1})).map((function(e){var t=e._id,n=e.en,r=e.hu;return a.a.createElement("li",{key:t},a.a.createElement("input",{type:"text",value:n,onChange:k({id:t,lang:"en"})}),a.a.createElement("input",{type:"text",value:r,onChange:k({id:t,lang:"hu"})}),a.a.createElement("button",{onClick:S({id:t})},"remove"))}))))},ae=(n(109),function(){var e=Object(f.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("truncating words..."),e.next=3,S();case 3:return console.log("rebuilding words..."),n=t.map((function(e){return x({en:e.Angol,hu:e.Magyar})})),e.next=7,Promise.all(n);case 7:console.log("done!");case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),ce=function(e){e.onDone;var t=Object(r.useRef)(null),n=function(){var e=Object(f.a)(l.a.mark((function e(t){var n,r,a,c,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.target,r=n.files[0]){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,d(r);case 6:a=e.sent,c=b.a.parse(a,{header:!0}),o=c.data,ae(o);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return a.a.createElement("div",{className:"words-rebuild"},a.a.createElement("input",{ref:t,onChange:n,type:"file"}),a.a.createElement("button",{onClick:function(){t.current.click()}},"rebuild words"))},oe=function(e){return Object(i.a)(e),a.a.createElement("nav",{className:"nav"},a.a.createElement(p.a,{to:"/free"},"free"),a.a.createElement(p.a,{to:"/challenge/10"},"10-challenge"),a.a.createElement(p.a,{to:"/challenge/25"},"25-challenge"),a.a.createElement(p.a,{to:"/challenge/50"},"50-challenge"),a.a.createElement(p.a,{to:"/words"},"words list"),a.a.createElement(ce,null))};var ue=function(){var e=Object(r.useState)(!1),t=Object(u.a)(e,2),n=t[0],c=t[1];return a.a.createElement("div",{className:"App"},a.a.createElement(G.Provider,{value:{loading:n,setLoading:c}},a.a.createElement("header",{className:"App-header"},a.a.createElement(p.a,{to:"/"},"home"),a.a.createElement("span",null,"wordybirdy")),a.a.createElement("main",null,a.a.createElement(p.b,null,a.a.createElement(oe,{path:"/"}),a.a.createElement(z,{lang:"en",path:"/free"}),a.a.createElement(J,{lang:"en",path:"/challenge/:length"}),a.a.createElement(re,{path:"/words"})),n&&a.a.createElement("div",null,a.a.createElement("h5",null,"Loading...")))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(a.a.createElement(ue,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},46:function(e,t,n){e.exports=n(110)},51:function(e,t,n){},86:function(e,t){function n(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id=86}},[[46,1,2]]]);
//# sourceMappingURL=main.9f4afb1e.chunk.js.map